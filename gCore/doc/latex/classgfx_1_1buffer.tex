\hypertarget{classgfx_1_1buffer}{\section{gfx\-:\-:buffer Class Reference}
\label{classgfx_1_1buffer}\index{gfx\-::buffer@{gfx\-::buffer}}
}


A base class that provides the interface to deal with Open\-G\-L buffers.  




{\ttfamily \#include \char`\"{}g\-Core/g\-Scene/buffer.\-hpp\char`\"{}}

Inheritance diagram for gfx\-:\-:buffer\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classgfx_1_1buffer}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classgfx_1_1buffer_1_1settings}{settings}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classgfx_1_1buffer_a78a4247848a19c74a77410c92f0455d3}{buffer} (\hyperlink{classgfx_1_1buffer_1_1settings}{settings} const \&set=\hyperlink{classgfx_1_1buffer_1_1settings}{settings}())
\begin{DoxyCompactList}\small\item\em Construct a new \hyperlink{classgfx_1_1buffer}{buffer} object. \end{DoxyCompactList}\item 
\hypertarget{classgfx_1_1buffer_a2b267c96867b14486ee9200b758a3246}{virtual \hyperlink{classgfx_1_1buffer_a2b267c96867b14486ee9200b758a3246}{$\sim$buffer} ()}\label{classgfx_1_1buffer_a2b267c96867b14486ee9200b758a3246}

\begin{DoxyCompactList}\small\item\em Destruct the buffer. \end{DoxyCompactList}\item 
void \hyperlink{classgfx_1_1buffer_ad9b89548222f37163c44f402e8577110}{block\-\_\-format} (\hyperlink{classgfx_1_1block__spec}{block\-\_\-spec} const \&spec)
\begin{DoxyCompactList}\small\item\em Use the given block specification to format the data of the buffer. \end{DoxyCompactList}\item 
G\-Lsizeiptr \hyperlink{classgfx_1_1buffer_a21c20dcd317940802016dc93f1e38f19}{size} () const 
\begin{DoxyCompactList}\small\item\em Query the \hyperlink{classgfx_1_1buffer}{buffer} for its size. \end{DoxyCompactList}\item 
void \hyperlink{classgfx_1_1buffer_a9c4e3ba0b7794299c80cd400bd6625f8}{blocks} (G\-Lsizeiptr const blocks)
\begin{DoxyCompactList}\small\item\em Set the number of data blocks in the \hyperlink{classgfx_1_1buffer}{buffer}. \end{DoxyCompactList}\item 
void \hyperlink{classgfx_1_1buffer_a08cffdcb5184e6ff8fec0df1ad817163}{add\-\_\-blocks} (G\-Lsizeiptr const more\-\_\-blocks)
\begin{DoxyCompactList}\small\item\em Expand the number of data blocks in the \hyperlink{classgfx_1_1buffer}{buffer}. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename D\-A\-T\-A $>$ }\\void \hyperlink{classgfx_1_1buffer_a44af69c977b694cce9b5014f6440efc9}{load\-\_\-attribute} (G\-Luint index, std\-::vector$<$ D\-A\-T\-A $>$ const \&attrib\-\_\-data)
\begin{DoxyCompactList}\small\item\em Load data into the \hyperlink{classgfx_1_1buffer}{buffer}. \end{DoxyCompactList}\item 
virtual void \hyperlink{classgfx_1_1buffer_a7019485ae327de1d5d5525185196ff43}{upload\-\_\-data} ()
\begin{DoxyCompactList}\small\item\em Upload the \hyperlink{classgfx_1_1buffer}{buffer's} data to Open\-G\-L. \end{DoxyCompactList}\item 
\hypertarget{classgfx_1_1buffer_a8395dfeccf42d150dd698211d361fcec}{virtual void {\bfseries align} ()=0}\label{classgfx_1_1buffer_a8395dfeccf42d150dd698211d361fcec}

\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classgfx_1_1buffer_a85c93d8e695b4715401764267e27b23c}{typedef std\-::vector$<$ info $\ast$ $>$ {\bfseries attrib\-\_\-vector}}\label{classgfx_1_1buffer_a85c93d8e695b4715401764267e27b23c}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
G\-Lsizeiptr \hyperlink{classgfx_1_1buffer_afafe95bbac44b4392e48f04cbffb16a9}{attribute\-\_\-offset} (G\-Luint index) const 
\begin{DoxyCompactList}\small\item\em Query the \hyperlink{classgfx_1_1buffer}{buffer} for the byte offset of the attribute with the given index. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classgfx_1_1buffer_ab5b0ca79b5c3058d3cfa707f029f9119}{unsigned char $\ast$ {\bfseries data}}\label{classgfx_1_1buffer_ab5b0ca79b5c3058d3cfa707f029f9119}

\item 
\hypertarget{classgfx_1_1buffer_abeb05ba5f2a55cd25f88ad70bd05a8b8}{G\-Lsizeiptr {\bfseries n\-\_\-blocks}}\label{classgfx_1_1buffer_abeb05ba5f2a55cd25f88ad70bd05a8b8}

\item 
\hypertarget{classgfx_1_1buffer_a5bb5ae77f00821dde719f2ec03b5d0e6}{G\-Lsizeiptr {\bfseries stride}}\label{classgfx_1_1buffer_a5bb5ae77f00821dde719f2ec03b5d0e6}

\item 
\hypertarget{classgfx_1_1buffer_accc9828ba943b976549f07ae06e05e35}{G\-Luint {\bfseries buff\-\_\-\-I\-D}}\label{classgfx_1_1buffer_accc9828ba943b976549f07ae06e05e35}

\item 
\hypertarget{classgfx_1_1buffer_ab00ffc79a1d96212511f90569a4e7bcc}{G\-Lenum {\bfseries usage}}\label{classgfx_1_1buffer_ab00ffc79a1d96212511f90569a4e7bcc}

\item 
\hypertarget{classgfx_1_1buffer_a891c9e8489ada44e36520a79edd6e1fa}{G\-Lenum {\bfseries intended\-\_\-target}}\label{classgfx_1_1buffer_a891c9e8489ada44e36520a79edd6e1fa}

\item 
\hypertarget{classgfx_1_1buffer_a2364b41ea3e767a2605002964d043e0c}{bool {\bfseries data\-\_\-loaded}}\label{classgfx_1_1buffer_a2364b41ea3e767a2605002964d043e0c}

\item 
\hypertarget{classgfx_1_1buffer_acd441d5dda07ce4b5f48c797fc50f060}{bool {\bfseries verts\-\_\-specified}}\label{classgfx_1_1buffer_acd441d5dda07ce4b5f48c797fc50f060}

\item 
\hypertarget{classgfx_1_1buffer_a42f2bd5d967e8aad51333e76862a3547}{attrib\-\_\-vector $\ast$ {\bfseries attributes}}\label{classgfx_1_1buffer_a42f2bd5d967e8aad51333e76862a3547}

\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classgfx_1_1buffer_aae00f29dd994b9fe4e742376ae3073bf}{std\-::ostream \& {\bfseries operator$<$$<$} (std\-::ostream \&out, \hyperlink{classgfx_1_1buffer}{buffer} const \&rhs)}\label{classgfx_1_1buffer_aae00f29dd994b9fe4e742376ae3073bf}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
A base class that provides the interface to deal with Open\-G\-L buffers. 

All the common functionality of the different uses for Open\-G\-L buffers is included in the buffer class. The specific use cases are implemented in derived classes, which in some cases may override certain settings that must have particular values for that use case. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000013}{Todo}]Review those settings that may get overriden; perhaps they chould be removed as user-\/settable settings because the presence of pure virtual functions in this class means it can never be instantiated and so the idea that you could hack your own use of this class is a dead end. If it is removed, perhaps it would be useful to move the settings mutators into a protected interface for derived classes.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000014}{Todo}]Also, maybe reduce the settings interface and separate the static-\/dynamic-\/stream from the draw-\/read-\/copy. \end{DoxyRefDesc}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classgfx_1_1buffer_a78a4247848a19c74a77410c92f0455d3}{\index{gfx\-::buffer@{gfx\-::buffer}!buffer@{buffer}}
\index{buffer@{buffer}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{buffer}]{\setlength{\rightskip}{0pt plus 5cm}gfx\-::buffer\-::buffer (
\begin{DoxyParamCaption}
\item[{{\bf settings} const \&}]{set = {\ttfamily {\bf settings}()}}
\end{DoxyParamCaption}
)}}\label{classgfx_1_1buffer_a78a4247848a19c74a77410c92f0455d3}


Construct a new \hyperlink{classgfx_1_1buffer}{buffer} object. 


\begin{DoxyParams}{Parameters}
{\em set} & The settings for the new buffer object. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classgfx_1_1buffer_a08cffdcb5184e6ff8fec0df1ad817163}{\index{gfx\-::buffer@{gfx\-::buffer}!add\-\_\-blocks@{add\-\_\-blocks}}
\index{add\-\_\-blocks@{add\-\_\-blocks}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{add\-\_\-blocks}]{\setlength{\rightskip}{0pt plus 5cm}void gfx\-::buffer\-::add\-\_\-blocks (
\begin{DoxyParamCaption}
\item[{G\-Lsizeiptr const}]{more\-\_\-blocks}
\end{DoxyParamCaption}
)}}\label{classgfx_1_1buffer_a08cffdcb5184e6ff8fec0df1ad817163}


Expand the number of data blocks in the \hyperlink{classgfx_1_1buffer}{buffer}. 

This will reallocate the internal memory in order to resize it, copying whatever data has been uploaded via \hyperlink{classgfx_1_1buffer_a44af69c977b694cce9b5014f6440efc9}{load\-\_\-attribute()} into the new memory, as far as it can fit. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000010}{Todo}]The copying functionality, as implemented, is wrong. Either fix the loop or remove the copying. 
\begin{DoxyParams}{Parameters}
{\em more\-\_\-blocks} & The number of blocks to add to the buffer \\
\hline
\end{DoxyParams}
\end{DoxyRefDesc}
\hypertarget{classgfx_1_1buffer_afafe95bbac44b4392e48f04cbffb16a9}{\index{gfx\-::buffer@{gfx\-::buffer}!attribute\-\_\-offset@{attribute\-\_\-offset}}
\index{attribute\-\_\-offset@{attribute\-\_\-offset}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{attribute\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}G\-Lsizeiptr gfx\-::buffer\-::attribute\-\_\-offset (
\begin{DoxyParamCaption}
\item[{G\-Luint}]{index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [protected]}}}\label{classgfx_1_1buffer_afafe95bbac44b4392e48f04cbffb16a9}


Query the \hyperlink{classgfx_1_1buffer}{buffer} for the byte offset of the attribute with the given index. 

This is probably not going to stick around; it exposes the internals of Open\-G\-L and the buffer class too much. More of a thing to hack functionality that isn't implemented yet, and to be honest I don't know if it even used. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000012}{Todo}]Review for deprecation or removal 
\begin{DoxyParams}{Parameters}
{\em index} & The index of the attribute to get the offset of \\
\hline
\end{DoxyParams}
\end{DoxyRefDesc}
\hypertarget{classgfx_1_1buffer_ad9b89548222f37163c44f402e8577110}{\index{gfx\-::buffer@{gfx\-::buffer}!block\-\_\-format@{block\-\_\-format}}
\index{block\-\_\-format@{block\-\_\-format}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{block\-\_\-format}]{\setlength{\rightskip}{0pt plus 5cm}void gfx\-::buffer\-::block\-\_\-format (
\begin{DoxyParamCaption}
\item[{{\bf block\-\_\-spec} const \&}]{spec}
\end{DoxyParamCaption}
)}}\label{classgfx_1_1buffer_ad9b89548222f37163c44f402e8577110}


Use the given block specification to format the data of the buffer. 

Each time you call this function, the format is completely overwritten. 
\begin{DoxyParams}{Parameters}
{\em spec} & The block specification describing the formatting of the buffer. \\
\hline
\end{DoxyParams}
\hypertarget{classgfx_1_1buffer_a9c4e3ba0b7794299c80cd400bd6625f8}{\index{gfx\-::buffer@{gfx\-::buffer}!blocks@{blocks}}
\index{blocks@{blocks}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{blocks}]{\setlength{\rightskip}{0pt plus 5cm}void gfx\-::buffer\-::blocks (
\begin{DoxyParamCaption}
\item[{G\-Lsizeiptr const}]{blocks}
\end{DoxyParamCaption}
)}}\label{classgfx_1_1buffer_a9c4e3ba0b7794299c80cd400bd6625f8}


Set the number of data blocks in the \hyperlink{classgfx_1_1buffer}{buffer}. 

This will reallocate the internal memory in order to resize it, copying whatever data has been uploaded via \hyperlink{classgfx_1_1buffer_a44af69c977b694cce9b5014f6440efc9}{load\-\_\-attribute()} into the new memory, as far as it can fit. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000009}{Todo}]The copying functionality, as implemented, is wrong. Either fix the loop or remove the copying. 
\begin{DoxyParams}{Parameters}
{\em blocks} & The number of blocks the buffer now has \\
\hline
\end{DoxyParams}
\end{DoxyRefDesc}
\hypertarget{classgfx_1_1buffer_a44af69c977b694cce9b5014f6440efc9}{\index{gfx\-::buffer@{gfx\-::buffer}!load\-\_\-attribute@{load\-\_\-attribute}}
\index{load\-\_\-attribute@{load\-\_\-attribute}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{load\-\_\-attribute}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename D\-A\-T\-A $>$ void gfx\-::buffer\-::load\-\_\-attribute (
\begin{DoxyParamCaption}
\item[{G\-Luint}]{index, }
\item[{std\-::vector$<$ D\-A\-T\-A $>$ const \&}]{attrib\-\_\-data}
\end{DoxyParamCaption}
)}}\label{classgfx_1_1buffer_a44af69c977b694cce9b5014f6440efc9}


Load data into the \hyperlink{classgfx_1_1buffer}{buffer}. 


\begin{DoxyParams}{Parameters}
{\em attrib\-\_\-data} & The source data for the buffer \\
\hline
\end{DoxyParams}
\hypertarget{classgfx_1_1buffer_a21c20dcd317940802016dc93f1e38f19}{\index{gfx\-::buffer@{gfx\-::buffer}!size@{size}}
\index{size@{size}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{size}]{\setlength{\rightskip}{0pt plus 5cm}G\-Lsizeiptr gfx\-::buffer\-::size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classgfx_1_1buffer_a21c20dcd317940802016dc93f1e38f19}


Query the \hyperlink{classgfx_1_1buffer}{buffer} for its size. 

\begin{DoxyReturn}{Returns}
The number of blocks in the buffer 
\end{DoxyReturn}
\hypertarget{classgfx_1_1buffer_a7019485ae327de1d5d5525185196ff43}{\index{gfx\-::buffer@{gfx\-::buffer}!upload\-\_\-data@{upload\-\_\-data}}
\index{upload\-\_\-data@{upload\-\_\-data}!gfx::buffer@{gfx\-::buffer}}
\subsubsection[{upload\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}void gfx\-::buffer\-::upload\-\_\-data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classgfx_1_1buffer_a7019485ae327de1d5d5525185196ff43}


Upload the \hyperlink{classgfx_1_1buffer}{buffer's} data to Open\-G\-L. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000011}{Todo}]There is no check to see if you have actually specified the data format. This means, internally, the stride member has not been correctly specified and so the upload will send Open\-G\-L an unpredictable number of bytes (usually 0 but in more complex use cases it could be anything depending on the lifetime of the particular buffer). It also doesn't check to see if you have even loaded any data into the buffer client-\/ side or if the buffer is \char`\"{}dirty\char`\"{}. Though that is not quite as bad, it certainly isn't very helpful for the user. \end{DoxyRefDesc}


Reimplemented in \hyperlink{classgfx_1_1vertex__buffer_a3248a790af715bc3b211d81ffd8a686b}{gfx\-::vertex\-\_\-buffer}.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
g\-Scene/buffer.\-hpp\item 
g\-Scene/buffer.\-cpp\end{DoxyCompactItemize}
